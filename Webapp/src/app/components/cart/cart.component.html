<app-navbar></app-navbar>

<!-- Scroll to top button -->
<button
  class="scroll-to-top-btn"
  (click)="scrollToTop()"
  [class.visible]="showScrollButton"
>
  <svg fill="#ffffff" viewBox="0 0 330 330">
    <path
      d="M325.606,229.393l-150.004-150C172.79,76.58,168.974,75,164.996,75c-3.979,0-7.794,1.581-10.607,4.394 l-149.996,150c-5.858,5.858-5.858,15.355,0,21.213c5.857,5.857,15.355,5.858,21.213,0l139.39-139.393l139.397,139.393 C307.322,253.536,311.161,255,315,255c3.839,0,7.678-1.464,10.607-4.394C331.464,244.748,331.464,235.251,325.606,229.393z"
    ></path>
  </svg>
</button>

<section class="section-3">
  <div class="section-3-div">
    <h1>Shopping cart</h1>
    <div class="container">
      <div class="cart-container">
        <!-- Ha üres a kosár -->
        <div *ngIf="cartItems.length === 0" class="empty-cart">
          <p>Your cart is empty</p>
          <button routerLink="/apply" class="continue-shopping-btn">
            Continue Shopping
          </button>
        </div>

        <!-- Ha van elem a kosárban -->
        <div *ngIf="cartItems.length > 0">
          <ul class="cart-items">
            <li
              *ngFor="let item of cartItems; trackBy: trackByCartItem"
              class="cart-item"
            >
              <div class="item-details">
                <h3>{{ item.name }}</h3>
                <p class="item-price">{{ item.price }} ¥</p>
              </div>
              <div class="item-controls">
                <div class="quantity-controls">
                  <button
                    (click)="decreaseQuantity(item)"
                    [disabled]="item.quantity <= 1"
                    class="quantity-btn"
                  >
                    -
                  </button>
                  <span class="quantity">{{ item.quantity }}</span>
                  <button (click)="increaseQuantity(item)" class="quantity-btn">
                    +
                  </button>
                </div>
                <button (click)="removeItem(item)" class="remove-btn">
                  Remove
                </button>
              </div>
            </li>
          </ul>

          <div class="cart-summary">
            <p class="total-price">Total: {{ totalPrice }} ¥</p>
            <div class="cart-actions">
              <button (click)="clearCart()" class="clear-btn">
                Clear Cart
              </button>
              <button
                (click)="proceedToCheckout()"
                class="checkout-btn"
                [disabled]="isProcessing"
              >
                {{ isProcessing ? "Processing..." : "Proceed to Payment" }}
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<app-footer></app-footer>
